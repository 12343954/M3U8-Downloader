<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="lib/element.ui/theme-chalk/index.css">
    <link rel="stylesheet" href="lib/fontawesome-free-6.3.0-web/css/fontawesome.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/start.css">
    <script src="scripts/global-vars.js"></script>
</head>

<body class="heisir">

    <div id="app">
        <template>
            <el-container>
                <el-header v-if="platform != 'darwin'" class="header" height='40px'>
                    <el-row>
                        <el-col :span="14">
                            <div class="title">{{'M3U8 Downloader'}}</div>
                        </el-col>
                    </el-row>

                    <div class="systemTool">
                        <el-button class="button" v-on:click="clickMinWindow">__</el-button>
                        <el-button class="button" icon="el-icon-full-screen" v-on:click="clickMaxWindow"></el-button>
                        <el-button class="button close" icon="el-icon-close" v-on:click="clickClose"></el-button>
                    </div>
                </el-header>
                <el-main class="main">
                    <el-tabs id="mainTab" v-model="tabMain" tab-position="left" type="border-card"
                        style="height: 100%;">
                        <el-tab-pane name="tab1_download">
                            <span slot="label"><i class="el-icon-download"></i> {{ $t('sidebar.download') }}</span>
                            <el-tabs type="border-card" v-model="tabPane">
                                <el-tab-pane name="tab1_singleDownload" :label="$t('tabs.singleDownload')">
                                    <el-row type="flex" justify="end" style="margin:auto 4%;">
                                        <el-col :span="4">
                                            <el-button class="mybutton" type="primary" icon="el-icon-news"
                                                @click="clickNewTask">{{$t('singleDownload.buttons.newTask')}}</el-button>
                                        </el-col>
                                        <el-col :span="1">
                                        </el-col>
                                        <el-col :span="8">
                                            <el-button class="mybutton" type="danger" icon="el-icon-delete"
                                                @click="clickClearTask">
                                                {{$t('singleDownload.buttons.clearCompletedTasks',{finish:
                                                allVideos.filter(k=>k.status==taskStatus.done)?.length,all:allVideos.length})}}
                                            </el-button>
                                        </el-col>
                                        <el-col v-show="false" :span="4" type="flex">
                                            <div class="speed el-icon-download">{{downloadSpeed}}</div>
                                        </el-col>
                                    </el-row>
                                    <ul class="list TaskList" :style="pager_totalCount < 20 ? 'height: calc(100% - 70px)' : ''">
                                        <li v-for="o in pager_data" :key="o.id" class="item" :data-id="o.id">
                                            <div class="m3u8"></div>
                                            <div class="nametitle">
                                                <span class="name">
                                                    <span class="value" :title="o.taskName" @click="clickPlayVideo"
                                                        :data="o.id">{{o.taskName}}</span>
                                                    <el-tag v-if="o.tag" type="success" effect="dark" round
                                                        style="font-size:9px;border-radius:9999px;padding:4px 10px;display:inline;">
                                                        {{o.tag}}</el-tag>
                                                </span>
                                                <p class="link">
                                                    <span>{{o.url}}</span>
                                                </p>
                                                <div class="timestatus">
                                                    <span class="time">
                                                        <span class="value">{{timeBeauty(o.time)}}</span>
                                                    </span>
                                                    <span class="status">
                                                        <span class="value">{{o.statusText}}</span>
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="opt">
                                                <div class="top">
                                                    <el-button class="is-text opendir" type="success"
                                                        icon="el-icon-folder-opened" @click="clickItemOptData"
                                                        opt="openInExplorer" :data="o.videopath||o.dir"></el-button>
                                                    <el-button class="play is-text" circle type="danger"
                                                        icon="fa-brands fa-youtube" size="mini"
                                                        @click="clickItemOptData" opt="playvideo" :data="o.videopath"
                                                        v-if="o.status == taskStatus.done"></el-button>
                                                    <el-button class="play is-text" circle type="warning"
                                                        icon="fa-solid fa-bolt" size="mini" @click="clickItemOptData"
                                                        opt="manualMerge" :data="o.dir"
                                                        v-if="o.status == taskStatus.mergeFaild"></el-button>
                                                    <el-button class="StartStop is-text" circle size="mini"
                                                        @click="clickItemOptData" opt="StartOrStop" :data="o.id"
                                                        :type="o.status == taskStatus.pause ? 'warning' : 'primary'"
                                                        :icon="o.status == taskStatus.pause ? 'el-icon-download' : 'fas fa-circle-notch fa-spin'"
                                                        v-if="![taskStatus.done,taskStatus.downloadFaild,taskStatus.mergeFaild,taskStatus.parsingFailed,taskStatus.saveFolderNoExist].includes(o.status)"
                                                        ></el-button>
                                                    <el-button class="del is-text" circle type="" icon="el-icon-close"
                                                        @click="clickItemOptData" opt="delvideo" :data="o.id"
                                                        size="mini"></el-button>
                                                </div>
                                                <div class="bottom" v-if="[taskStatus.downloading].includes(o.status)">
                                                    <el-progress :percentage="o.segment_downloaded*100/o.segment_total" :show-text="false" color="#8e71c7">
                                                    </el-progress>
                                                </div>
                                            </div>
                                        </li>
                                        <el-alert v-if="!allVideos.length"
                                            style="margin-top: 10px;line-height:1;white-space:pre-line;text-align:center;width:60%;margin:10% auto;max-width:600px;"
                                            :title="$t('singleDownload.tips.noTasks')" type="success" effect="light"
                                            :closable="false" :center="true" show-icon></el-alert>
                                    </ul>
                                    <el-row type="flex" justify="center">
                                        <el-pagination :current-page="pager_currPage" :page-size="pager_pageSize"
                                            :small="false" :background="true" dark="true" :hide-on-single-page="true"
                                            layout="prev, pager, next" :total="pager_totalCount"
                                            @size-change="handlePageSizeChange"
                                            @current-change="handleCurrentPageChange" />
                                    </el-row>
                                    <el-dialog :title="$t('newTask.title')" :visible.sync="dlg_newtask_visible"
                                        width="60%" :modal="true" :close-on-click-modal="false"
                                        :close-on-press-escape="false" :center="false">
                                        <el-form label-width="100px" @keyup.enter.native="clickNewTaskOK">
                                            <el-form-item :label="$t('newTask.inputs.url.label')"
                                                label-position="right">
                                                <div @drop="dropM3U8File" @dragover.prevent @dragenter.prevent>
                                                    <el-input :placeholder="$t('newTask.inputs.url.holder')"
                                                        v-model="m3u8_url" draggable="false" @input="m3u8UrlChange">
                                                        <i slot="prefix" class="el-input__icon el-icon-link"></i>
                                                        <i slot="suffix" class="el-input__icon el-icon-folder-opened"
                                                            @click="clickSelectM3U8"></i>
                                                    </el-input>
                                                </div>
                                            </el-form-item>
                                            <el-form-item :label="$t('newTask.inputs.taskName.label')"
                                                label-position="right">
                                                <el-input type="text"
                                                    :placeholder="$t('newTask.inputs.taskName.holder')"
                                                    v-model="taskName">
                                                </el-input>
                                            </el-form-item>
                                            <el-form-item v-if="playlists.length" :label="$t('newTask.inputs.quality.label')" label-position="right">
                                                <el-select v-model="playlistUri" :placeholder="$t('newTask.inputs.quality.holder')"
                                                    style="width: 100%;" @change="qualityChange">
                                                    <el-option v-for="playlist in playlists" :key="playlist.uri"
                                                        :label="getPlaylistLabel(playlist)" :value="playlist.uri">
                                                    </el-option>
                                                </el-select>
                                            </el-form-item>
                                            <el-form-item :label="$t('newTask.inputs.tags.label')"
                                                label-position="right">
                                                <el-radio-group v-model="taskTag" @change="clickChangeTaskTag">
                                                    <el-radio-button v-for="tag in config_tags" :key="tag"
                                                        :label="tag" />
                                                </el-radio-group>
                                            </el-form-item>
                                            <el-form-item :label="$t('newTask.inputs.urlPrefix.label')"
                                                label-position="right" v-if="m3u8_url?.startsWith('file:///')">
                                                <el-tooltip effect="light" placement="top-start">
                                                    <div slot="content" style="white-space:pre-line;">
                                                        {{$t('newTask.inputs.urlPrefix.content')}}
                                                    </div>
                                                    <el-input type="text"
                                                        :placeholder="$t('newTask.inputs.urlPrefix.holder')"
                                                        v-model="m3u8_url_prefix"></el-input>
                                                </el-tooltip>
                                            </el-form-item>
                                            <el-form-item :label="$t('newTask.inputs.httpHeaders.label')"
                                                label-position="right">
                                                <el-input type="textarea" :rows="3"
                                                    :placeholder="$t('newTask.inputs.httpHeaders.holder')"
                                                    v-model="headers"></el-input>
                                            </el-form-item>
                                            <el-form-item :label="$t('newTask.inputs.privateKey.label')"
                                                label-position="right">
                                                <el-tooltip effect="light" placement="top-start">
                                                    <div slot="content" style="white-space:pre-line;">
                                                        {{$t('newTask.inputs.privateKey.content')}}
                                                    </div>
                                                    <el-input type="text"
                                                        :placeholder="$t('newTask.inputs.privateKey.holder')"
                                                        v-model="myKeyIV">
                                                    </el-input>
                                                </el-tooltip>
                                            </el-form-item>
                                            <el-form-item :label="$t('newTask.inputs.merge.label')"
                                                label-position="right">
                                                <el-checkbox v-model="taskIsDelTs"
                                                    :label="$t('newTask.inputs.merge.holder')"></el-checkbox>
                                            </el-form-item>
                                        </el-form>
                                        <div slot="footer" class="dialog-footer">
                                            <el-row :gutter="20">
                                                <el-col :span="11" :offset="4">
                                                    <el-alert :title="addTaskMessage" type="info" :closable="false"
                                                        effect="dark" style="background-color:#002404;color: #606266;">
                                                    </el-alert>
                                                </el-col>
                                                <el-col :span="8" :offset="1">
                                                    <el-button type="primary" @click="clickNewTaskOK"
                                                        style="width: 100%;">{{$t('newTask.buttons.confirm')}}
                                                    </el-button>
                                                </el-col>
                                            </el-row>
                                        </div>
                                    </el-dialog>
                                    <el-dialog :title="$t('deleteTask.title')" :visible.sync="dlg_deltask_visible"
                                        width="40%" :modal="true" :close-on-click-modal="true"
                                        :close-on-press-escape="true" :center="true">
                                        <el-form label-width="80px" style="margin: 2rem 0;">
                                            <p style="font-size: 1rem;text-align: center;color: #bfbdbd;">
                                                {{dlg_deltask_name}}</p>
                                            <p style="text-align: center;margin-top: 1rem;">
                                                <el-checkbox v-model="dlg_deltask_isDelFile"
                                                    :label="$t('deleteTask.buttons.withFile')"></el-checkbox>
                                            </p>
                                        </el-form>
                                        <div slot="footer" class="dialog-footer">
                                            <el-row :gutter="20">
                                                <el-col :span="8" :offset="4">
                                                    <el-button type="info" @click="clickDelTaskCancel"
                                                        style="width: 100%;">{{$t('deleteTask.buttons.cancel')}}
                                                    </el-button>
                                                </el-col>
                                                <el-col :span="8" :offset="1">
                                                    <el-button type="primary" @click="clickDelTaskOK"
                                                        style="width: 100%;">{{$t('deleteTask.buttons.ok')}}
                                                    </el-button>
                                                </el-col>
                                            </el-row>
                                        </div>
                                    </el-dialog>
                                </el-tab-pane>
                                <el-tab-pane name="tab1_multiDownload" :label="$t('tabs.multiDownload')">
                                    <el-form label-width="130px" style="margin-right: 65px;">
                                        <el-form-item :label="$t('multiDownload.inputs.m3u8Urls.label')"
                                            label-position="right">
                                            <el-input type="textarea" :rows="6"
                                                :placeholder="$t('multiDownload.inputs.m3u8Urls.holder')"
                                                v-model="m3u8_urls"></el-input>
                                        </el-form-item>
                                        <el-form-item :label="$t('multiDownload.inputs.headers.label')"
                                            label-position="right">
                                            <el-input type="textarea" :rows="4"
                                                :placeholder="$t('multiDownload.inputs.headers.holder')"
                                                v-model="headers"></el-input>
                                        </el-form-item>
                                        <el-form-item :label="$t('multiDownload.inputs.afterMerge.label')"
                                            label-position="right">
                                            <el-checkbox v-model="taskIsDelTs"
                                                :label="$t('multiDownload.inputs.afterMerge.holder')"></el-checkbox>
                                        </el-form-item>
                                        <el-form-item>
                                            <el-button class="mybutton" type="primary" @click="clickNewTaskMuti">
                                                {{$t('multiDownload.buttons.multiDownload')}}
                                            </el-button>
                                        </el-form-item>
                                    </el-form>
                                </el-tab-pane>
                                <el-tab-pane name="tab1_mergeTS" :label="$t('tabs.mergeTS')">
                                    <el-row :gutter="8" style="margin-bottom: 5px;">
                                        <el-col :span="3" :offset="1">
                                            <label
                                                class="el-form-item__label">{{$t('mergeTS.inputs.tsDir.label')}}</label>
                                            <!-- <span style="line-height: 40px;float: right;">视频片段</span> -->
                                        </el-col>
                                        <el-col :span="20">
                                            <div @drop="dropTSFiles" @dragover.prevent @dragenter.prevent>
                                                <el-input :placeholder="$t('mergeTS.inputs.tsDir.holder')"
                                                    v-model="ts_dir" clearable draggable="false"
                                                    @clear="clickClearMergeTS">
                                                    <i slot="suffix" class="el-input__icon el-icon-folder-opened"
                                                        @click="clickSelectTSDir"></i>
                                                </el-input>
                                            </div>
                                        </el-col>
                                    </el-row>
                                    <el-row :gutter="8" style="margin-bottom: 5px;">
                                        <el-col :span="3" :offset="1">
                                            <label
                                                class="el-form-item__label">{{$t('mergeTS.inputs.tsTaskName.label')}}</label>
                                        </el-col>
                                        <el-col :span="20">
                                            <el-input :placeholder="$t('mergeTS.inputs.tsTaskName.holder')"
                                                v-model="tsTaskName" clearable draggable="false"></el-input>
                                        </el-col>
                                    </el-row>
                                    <el-row :gutter="8" style="margin-bottom: 5px;">
                                        <el-col :span="7" :offset="3">
                                            <div>
                                                <el-radio style="line-height: 40px;" v-model="tsMergeType"
                                                    label="speed">{{$t('mergeTS.buttons.quickMerge')}}
                                                </el-radio>
                                                <el-radio style="line-height: 40px;" v-model="tsMergeType"
                                                    label="transcoding">
                                                    {{$t('mergeTS.buttons.fixMerge')}}
                                                </el-radio>
                                            </div>
                                        </el-col>
                                        <el-col :span="6" :offset="1">
                                            <span
                                                style="line-height: 40px;color: #ccc;">{{$t('mergeTS.tips.total',{total:ts_urls.length})}}</span>
                                        </el-col>
                                        <el-col :span="4" :offset="1">
                                            <el-button class="mybutton" type="primary" @click="clickStartMergeTS"
                                                :disabled="ts_urls.length==0">{{$t('mergeTS.buttons.startMerge')}}</el-button>
                                        </el-col>
                                        <el-col :span="2">
                                            <el-button class="mybutton" type="danger" @click="clickClearMergeTS"
                                                :disabled="ts_urls.length==0">{{$t('mergeTS.buttons.clearForm')}}</el-button>
                                        </el-col>
                                    </el-row>

                                    <el-row :gutter="8" style="margin-top: 10px;margin-bottom: 5px;"
                                        v-if="tsMergeStatus">
                                        <el-col :span="4" :offset="1">
                                            <span v-if="tsMergeStatus !='success'"
                                                style="line-height: 100px;color: #ccc;">
                                                {{$t('mergeTS.inputs.mergeProgress')}}
                                            </span>
                                            <span v-if="tsMergeStatus =='success'"
                                                style="line-height: 40px;color: #ccc;">
                                                {{$t('mergeTS.inputs.viewFile')}}
                                            </span>
                                        </el-col>
                                        <el-col :span="6" v-if="tsMergeStatus !='success'">
                                            <el-progress type="circle" :percentage="tsMergeProgress" status="success"
                                                :width="100"></el-progress>
                                        </el-col>
                                        <el-col :span="4" v-else>
                                            <el-button class="mybutton" type="success" @click="clickOpenMergeTSDir">
                                                {{$t('mergeTS.buttons.openFolder')}}
                                            </el-button>
                                        </el-col>
                                        <el-col :span="4" v-if="tsMergeMp4Path">
                                            <el-button class="mybutton" type="danger" @click="clickPlayMergeMp4">
                                                {{$t('mergeTS.buttons.playVideo')}}
                                            </el-button>
                                        </el-col>
                                    </el-row>

                                    <el-row :gutter="8" v-if="tsMergeStatus !='success' && tsMergeStatus">
                                        <el-col :span="3" :offset="1">
                                            <span style="line-height: 40px;float: right;">
                                                {{$t('mergeTS.inputs.log')}}
                                            </span>
                                        </el-col>
                                        <el-col :span="20">
                                            <el-input type="textarea" :rows="4" readonly placeholder=""
                                                v-model="tsMergeStatus">
                                            </el-input>
                                        </el-col>
                                    </el-row>
                                </el-tab-pane>
                            </el-tabs>
                        </el-tab-pane>
                        <el-tab-pane name="tab2_settings">
                            <span slot="label"><i class="el-icon-s-tools"></i> {{ $t('sidebar.settings') }}</span>
                            <el-row :gutter="8">
                                <el-col :span="4" :offset="1">
                                    <span
                                        style="line-height: 40px;float: right;color: #ccc;">{{$t('settings.inputs.saveFolder.label')}}</span>
                                </el-col>
                                <el-col :span="15">
                                    <el-input :placeholder="$t('settings.inputs.saveFolder.holder')"
                                        v-model="config_save_dir" :readonly="true">
                                    </el-input>
                                </el-col>
                                <el-col :span="3">
                                    <el-button class="mybutton" type="info" icon="el-icon-folder-opened"
                                        @click="clickOpenConfigDir">{{$t('settings.buttons.browser')}}</el-button>
                                </el-col>
                            </el-row>
                            <br />
                            <el-row :gutter="8">
                                <el-col :span="4" :offset="1">
                                    <span
                                        style="line-height: 40px;float: right;color: #ccc;">{{$t('settings.inputs.tags.label')}}</span>
                                </el-col>
                                <el-col :span="18">
                                    <div>
                                        <el-tag v-for="tag in config_tags" :key="tag" class="mx-1" closable size="large"
                                            effect="dark" type="success" :disable-transitions="false"
                                            @close="handleTagClose(tag)">
                                            {{ tag }}
                                        </el-tag>
                                        <el-button v-if="!input_tag_visible && config_tags?.length < 5" size="small"
                                            type="info" @click="showTagInput">
                                            {{$t('settings.inputs.tags.add')}}
                                        </el-button>
                                        <el-input v-if="input_tag_visible" ref="refInputTag" class="ml-1 w-20"
                                            style="width: 8rem;" size="large" v-model="input_tag_value" max-length="50"
                                            @keyup.enter.native="handleTagInputConfirm" @blur="handleTagInputConfirm" />
                                    </div>
                                </el-col>
                            </el-row>
                            <br />
                            <!-- <el-row :gutter="8">
                                <el-col :span="4" :offset="1">
                                    <el-tooltip placement="bottom-start">
                                        <template #content> {{$t('settings.inputs.junks.tips')}} </template>
                                        <span
                                            style="line-height:40px;float:right;color:#ccc;">{{$t('settings.inputs.junks.label')}}</span>
                                    </el-tooltip>
                                </el-col>
                                <el-col :span="18">
                                    <div>
                                        <el-tag v-for="ts in config_junk_ts" :key="ts" class="mx-1" closable
                                            size="large" effect="dark" type="danger" :disable-transitions="false"
                                            @close="handleRemoveJunkTS(ts)" @click="handlePlayJunkTS(ts)">
                                            {{ ts }}
                                        </el-tag>
                                        <el-button v-if="config_junk_ts?.length < 5" size="small" type="info"
                                            @click="clickOpenJunkTs">
                                            {{$t('settings.inputs.junks.add')}}
                                        </el-button>
                                    </div>
                                </el-col>
                            </el-row>
                            <br /> -->
                            <el-row :gutter="8">
                                <el-col :span="4" :offset="1">
                                    <span
                                        style="line-height: 40px;float: right;color: #ccc;">{{$t('settings.inputs.proxy.label')}}</span>
                                </el-col>
                                <el-col :span="9">
                                    <el-input :placeholder="$t('settings.inputs.proxy.holder')" v-model="config_proxy"
                                        @change="proxyChange"></el-input>
                                </el-col>
                                <!-- <el-col :span="4" :offset="1">
                                    <span
                                        style="line-height: 40px;float: right;color: #ccc;">{{$t('settings.inputs.log.label')}}</span>
                                </el-col>
                                <el-col :span="4">
                                    <el-button class="mybutton" type="primary" icon="el-icon-view"
                                        @click="clickOpenLogDir">{{$t('settings.buttons.viewLog')}}</el-button>
                                </el-col> -->
                            </el-row>
                            <br />
                            <el-row :gutter="8">
                                <el-col :span="4" :offset="1">
                                    <span
                                        style="line-height: 40px;float: right;color: #ccc;">{{$t('settings.inputs.log.label')}}</span>
                                </el-col>
                                <el-col :span="4">
                                    <el-button class="mybutton" type="info" icon="el-icon-view"
                                        @click="clickOpenLogDir">{{$t('settings.buttons.viewLog')}}</el-button>
                                </el-col>
                                <!-- <el-col :span="4" :offset="1">
                                    <span
                                        style="line-height: 40px;float: right;color: #ccc;">{{$t('settings.inputs.proxy.label')}}</span>
                                </el-col>
                                <el-col :span="9">
                                    <el-input :placeholder="$t('settings.inputs.proxy.holder')" v-model="config_proxy"
                                        @change="proxyChange"></el-input>
                                </el-col> -->
                            </el-row>
                            <br />
                            <el-row>
                                <el-col :span="4" :offset="1">
                                    <span
                                        style="line-height: 40px;float: right;color: #ccc;margin-right: 10px;">{{$t('settings.inputs.language.label')}}</span>
                                </el-col>
                                <el-col :span="4">
                                    <el-select v-model="config_language" style="width: 100%;" @change="languageChange">
                                        <el-option v-for="lang in languages" :key="lang.lang" :label="lang.lang"
                                            :value="lang.value">
                                        </el-option>
                                    </el-select>
                                </el-col>
                                <el-col :span="4" :offset="1">
                                    <!-- <span
                                        style="line-height: 40px;float: right;color: #909399;">{{$t('about.version')}}</span> -->
                                </el-col>
                                <el-col :span="9">
                                    <span style="line-height:34px;margin-left:1rem;">
                                        <!-- <el-link type="info" target="_blank" :underline="false"
                                            :href="newVersion_download_url">v{{version == newVersion ? version :
                                            newVersion}}<sup
                                                style="color: #ff2929;margin-left:10px;font-size:10px;">{{version ==
                                                newVersion? '' : $t('about.newVersion')}}</sup></el-link></span> -->
                                </el-col>
                            </el-row>
                            <br />
                            <el-row>
                                <el-col :span="4" :offset="1">
                                    <span
                                        style="line-height: 40px;float: right;color: #ccc;margin-right: 10px;">{{$t('settings.buttons.closeBtn')}}</span>
                                </el-col>
                                <el-col :span="6">
                                    <el-select v-model="config_closeAppBehavior" style="width: 100%;"
                                        @change="closeAppBehaviorChange">
                                        <el-option v-for="(action, index) in $t('settings.dropdown.closeBtn')"
                                            :key="action" :label="action" :value="index">
                                        </el-option>
                                    </el-select>
                                </el-col>
                                <el-col :span="4">
                                    asdf
                                </el-col>
                                <el-col :span="6" v-if="isDev">
                                    <el-button type="warning" @click="clickOnTest">
                                        Test function
                                    </el-button>
                                </el-col>
                            </el-row>
                            <el-row :gutter="8" style="position:fixed;bottom:2rem;width:82%;right:1rem;">

                                <el-col :span="4" :offset="6" style="margin-right: 2rem;">
                                    <el-button class="mybutton" type="info" icon="el-icon- fab fa-github"
                                        style="max-width: 300px;"
                                        @click="clickOpenGithub">{{$t('about.github')}}</el-button>
                                </el-col>
                                <el-col :span="6" style="margin-right: 2rem;">
                                    <el-button class="mybutton" type="info" icon="el-icon-coffee-cup"
                                        style="max-width: 400px;"
                                        @click="clickOpenSponsor">{{$t('buyMEcoffe.button')}}</el-button>
                                </el-col>
                                <el-col :span="5" style="margin-right: 2rem;text-align:right;">
                                    <el-link type="info" target="_blank" :underline="false"
                                        :href="newVersion_download_url">v{{version}}<sup
                                            style="color: #ff2929;margin-left:10px;font-size:10px;">{{version ==
                                            newVersion? '' : $t('about.newVersion')}}</sup></el-link>
                                </el-col>
                            </el-row>
                        </el-tab-pane>
                    </el-tabs>
                    <el-dialog :title="$t('buyMEcoffe.title')" :visible.sync="dlg_buymecoffe_visible" width="60%"
                        :modal="true" :close-on-click-modal="true" :close-on-press-escape="true" :center="true"
                        style="height: 100vh;">
                        <el-row type="flex" justify="center" align="middle" style="height:50vh;">
                            <el-card v-if="config_language=='zh-cn'" class="paycode alipay" shadow="always"
                                style="max-width: 256px;max-height: 300px;margin-right: 10%;">
                                <img class="image" src="icon/alipay_code.png">
                                <div style="padding: 14px;word-break: keep-all;">
                                    <span>{{$t('buyMEcoffe.alipay')}}</span>
                                </div>
                            </el-card>
                            <el-card v-if="config_language=='zh-cn'" class="paycode wechat" shadow="always"
                                style="max-width: 256px;max-height: 300px;">
                                <img class="image" src="icon/wechat_code.png">
                                <div style="padding: 14px;word-break: keep-all;">
                                    <span>{{$t('buyMEcoffe.wechat')}}</span>
                                </div>
                            </el-card>
                            <el-card v-if="config_language != 'zh-cn'" class="paycode paypal" shadow="always"
                                style="max-width: 256px;max-height: 300px;">
                                <img class="image" src="icon/paypal.png">
                                <div style="padding: 14px;word-break: keep-all;">
                                    <span>{{$t('buyMEcoffe.paypal')}}</span>
                                </div>
                            </el-card>
                        </el-row>
                        <el-row :gutter="8" type="flex" justify="center" align="middle">
                            <span
                                style="width:70%;height:10vh;text-align:center;color:#cfcf00;white-space:pre-line">{{$t('buyMEcoffe.content')}}</span>
                        </el-row>
                    </el-dialog>
                </el-main>
            </el-container>
        </template>
    </div>
    <script src="lang/en.js"></script>
    <script src="lang/zh-CN.js"></script>
    <script src="lib/vue/vue.js"></script>
    <script src="lib/vue/vue-i18n.js"></script>
    <script src="lib/element.ui/index.js"></script>
    <script src="scripts/app-main.js"></script>
    <script src="lib/Valine/Valine.min.js"></script>

    <script>
        var GUEST_INFO = ['nick', 'mail', 'link'];
        var guest_info = 'nick'.split(',').filter(function (item) {
            return GUEST_INFO.indexOf(item) > -1
        });
        // console.log(guest_info)
        var notify = 'false' == true;
        var verify = 'false' == true;
        // new Valine({
        //     el: '.vcomment',
        //     notify: notify,
        //     verify: verify,
        //     appId: "dYhmAWg45dtYACWfTUVR2msp-gzGzoHsz",
        //     appKey: "SbuBYWY21MPOSVUCTHdVlXnx",
        //     placeholder: "可以在这里进行咨询交流",
        //     pageSize: '100',
        //     avatar: 'mm',
        //     lang: 'zh-cn',
        //     meta: guest_info,
        //     recordIP: true,
        //     path: '/m3u8-downloader'
        // });
    </script>
</body>

</html>